########## atom ##########

alias a='atom'

########## git ##########

# common git commands
alias gs='git status'
alias gb='git branch --column'
alias gc='git commit -m'
alias ga='git add -A'
alias gd='git diff --cached'
alias gco='git checkout'
alias gss="git stash save"
alias gsa='git stash apply'

# add staged changes to last commit, but keep the commit message
alias gca='git commit --amend --no-edit'

# find a branch
alias gf='gb | grep'

# kill unstaged changes
alias kus='git stash save --keep-index --include-untracked'

# better git log
alias log="git log -20 --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit"

# unstage
alias gus='git reset'

# make a WIP commit with timestamp
alias wip="git commit -m 'WIP `date`'"

# uncommit the most recent commit
alias unc="git reset --soft HEAD^"

# throw away all changes (dangerous!)
alias boom="confirm && git add . && git stash save 'boomed'"

# ignore changes to whatever file is passed as an argument
alias ignore="git update-index --assume-unchanged"

# stop ignoring changes to whatever file is passed as an argument
alias unignore="git update-index --no-assume-unchanged"

########## utilities ##########

# reload profile
alias rl="source $HOME/.bash_profile"

# edit dotfiles
alias dot="cd $HOME/dotfiles && atom ."

# open a random Unsplash image, e.g. img 100x100
alias img='open_random_image_url'

# find aliases that match the arg, e.g. `fal log` or `fal .`
alias fal='alias | grep'

# flush DNS cache (works on Mojave)
alias flushdns="sudo killall -HUP mDNSResponder; sleep 2;"

########## rails ##########

alias rc='rails console'
alias rs='rails server'
alias pspec='rake parallel:spec'
alias loadf='rake db:fixtures:load'

# debug server (pry-rescue must be installed)
alias dbs="rescue rails server webrick"

# debug jobs (pry-rescue must be installed)
alias dbj="rescue rake jobs:work"

########## yarn ##########

# run all JS tests and rerun them on every code change
alias yt="yarn test --watchAll"

# run JS tests, but only for filepaths that match the pattern
alias ytp="yarn test --watchAll --testPathPattern"
